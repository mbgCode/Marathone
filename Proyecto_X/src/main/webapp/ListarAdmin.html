<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=
    , initial-scale=1.0">
    <title>Document</title>
    
    
    <script> 

		
		
		function llamada (){
            fetch ('SV_administrador?op=1')//Se envia la solicitud con op=1
			.then (response => response.json())// La respuesta (response) se parsea a un .json 
			.then (data => pintarTabla(data))//Los datos de ese .json se pintan en la tabla.
		}
		
		
		
		function pintarTabla(datos){//aqui se pintan los datos. creamos un codigo html.
            let html = "<table border=1>";
                
            for (let i = 0;i<datos.length;i++){//Como datos (json) actua como un array.
                html +="<tr><td>"+datos[i].nombre+"</td><td>"+datos[i].apellidos+"</td>";
                html += "<td>"+datos[i].email+"</td><td>"+datos[i].poblacion+"</td>";
                html += "<td>"+datos[i].permiso+"</td><td>"+datos[i].foto+"</td>"              
                html += "<td>"+datos[i].idadministrador+"</td>";
                html += "<td><a href='InsertarAdmin.html?idadministrador="+datos[i].idadministrador+"&op=2'>Editar</a></td>";
                html +="</tr>";

            }    
            html +="</table>";
            
            
            //le pedimos que busque el id (listado) que hemos llamado dentro de body.
            document.getElementById("listado").innerHTML = html;
        }
	


		//Cuando se cargue la pantalle ejecutamos funcion "llamada"
        window.onload = function(){
	     llamada();  
        }


	</script>
  
</head>




<body>

    <h1>Listado</h1>
    <div id="listado">

    </div>

</body>
</html>